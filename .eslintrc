root: true
parser: "@babel/eslint-parser"
extends:
  - eslint:recommended
  - plugin:@typescript-eslint/recommended
plugins:
  - "@babel"
parserOptions:
  allowImportExportEverywhere: false
  babelOptions:
    configFile: "./.babelrc"
    # Monorepo configuration
    # rootMode: upward
  ecmaVersion: 6
  ecmaFeatures: true
  globalReturn: false
  jsxPragma: React
  legacyDecorators: true
  requireConfigFile: false
  sourceType: "module"
env:
  es6: true
  node: true
  browser: true
  commonjs: true
settings:
  import/resolver:
    webpack:
      config: "webpack.config.babel.js"
rules:
  array-bracket-spacing:
    - error
    - always
    - singleValue: true
      objectsInArrays: false
      arraysInArrays: false

  arrow-parens:
    - error
    - always

  arrow-body-style:
    - error
    - as-needed

  computed-property-spacing:
    - error
    - never

  dot-location:
    - error
    - property

  newline-per-chained-call:
    - error
    - ignoreChainWithDepth: 3

  no-new-func: error
  no-spaced-func: error
  no-sparse-arrays: warn
  no-var: error
  semi: error
  semi-spacing:
    - error
    - before: false
      after: true

  space-before-function-paren:
    - error
    - anonymous: never
      named: never
      asyncArrow: always

  # space-in-parens:
  #   - error
  #   - always

  key-spacing:
    - error
    - beforeColon: false
      afterColon: true
      # align: colon

  keyword-spacing:
    - error
    - after: true

  object-curly-spacing:
    - off
    - always
    - arraysInObjects: false
      objectsInObjects: false

  object-curly-newline:
    - error
    # -
    #   ImportDeclaration: never
    #   ExportDeclaration:
    #     multiline: true
    #     minProperties: 3
    #     consistent: true
    #   ObjectExpression:
    #     multiline: true
    #     minProperties: 3
    #     consistent: true
    #   ObjectPattern:
    #     multiline: true
    #     minProperties: 2
    #     consistent: true
    - consistent: true

# -------------------------------------------------------------------------------------------------
overrides:
  - files: ["**/src/**/*.ts", "**/src/**/*.tsx"]
    parser: "@typescript-eslint/parser"
    plugins:
      - "@typescript-eslint"
    parserOptions:
      sourceType: "module"
      project: ./tsconfig.json
    rules:
      "@typescript-eslint/await-thenable": [1]
      "@typescript-eslint/indent": [2, 2, {"SwitchCase": 1, "MemberExpression": 1, "VariableDeclarator": first}]
      "@typescript-eslint/no-explicit-any": [0]
      # $remarkï¼šhttps://eslint.org/docs/rules/indent#options
      "@typescript-eslint/no-unused-vars": [0]
      "@typescript-eslint/no-useless-constructor": [2]
      "@typescript-eslint/no-empty-function": [1, {"allow": ["private-constructors"]}]

      indent: [2, 2]
      no-unused-vars: off
      no-useless-constructor: off
      no-empty-function: [1]
