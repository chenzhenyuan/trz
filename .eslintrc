root: true
parser: "@babel/eslint-parser"
extends:
  - eslint:recommended
  - plugin:@typescript-eslint/recommended
plugins:
  - "@babel"
parserOptions:
  allowImportExportEverywhere: false
  babelOptions:
    configFile: "./.babelrc"
    # Monorepo configuration
    # rootMode: upward
  ecmaVersion: 6
  ecmaFeatures: true
  globalReturn: false
  jsxPragma: React
  legacyDecorators: true
  requireConfigFile: false
  sourceType: "module"
env:
  es6: true
  node: true
  browser: true
  commonjs: true
settings:
  import/resolver:
    webpack:
      config: "webpack.config.babel.js"
rules:
  array-bracket-spacing:
    - error
    - always
    - singleValue: false
      objectsInArrays: false
      arraysInArrays: false

  arrow-parens:
    - error
    - always

  arrow-body-style:
    - error
    - as-needed

  computed-property-spacing:
    - error
    - never

  dot-location:
    - error
    - property

  newline-per-chained-call:
    - error
    - ignoreChainWithDepth: 2

  no-new-func: error
  no-spaced-func: error
  no-sparse-arrays: warn
  no-var: error
  semi: error
  semi-spacing:
    - error
    - before: false
      after: true

  space-before-function-paren:
    - error
    - anonymous: never
      named: never
      asyncArrow: always

  # space-in-parens:
  #   - error
  #   - always

  key-spacing:
    - error
    - beforeColon: false
      afterColon: true
      # align: colon

  keyword-spacing:
    - error
    - after: true

  object-curly-newline:
    - error
    - ImportDeclaration: never
      # ExportDeclaration: { "multiline": true, "minProperties": 3 }
      ExportDeclaration: always
      ObjectExpression:
        consistent: true
        multiline: true
        minProperties: 2
      ObjectPattern:
        consistent: true
        # multiline: true
        # minProperties: 2

  object-curly-spacing:
    - error
    - always
    - arraysInObjects: false
      objectsInObjects: false

# -------------------------------------------------------------------------------------------------
overrides:
  - files: ["src/**/*.ts", "src/**/*.tsx"]
    parser: "@typescript-eslint/parser"
    plugins:
      - "@typescript-eslint"
    parserOptions:
      sourceType: "module"
      project: ./tsconfig.json
    rules:
      "@typescript-eslint/await-thenable": warn
      "@typescript-eslint/no-explicit-any": warn

      # $remarkï¼šhttps://eslint.org/docs/rules/indent#options
      indent: off
      "@typescript-eslint/indent":
        - error
        - 2
        - SwitchCase: 1
          MemberExpression: 1
          VariableDeclarator: first

      no-unused-vars: off
      "@typescript-eslint/no-unused-vars": off

      no-useless-constructor: off
      "@typescript-eslint/no-useless-constructor": ["error"]

      no-empty-function: off
      "@typescript-eslint/no-empty-function":
        - warn
        - allow: [private-constructors]
